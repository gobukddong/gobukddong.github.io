:root {
    --bg-core: #0a0a0a;
    --bg-card: #111111;
    --bg-card-hover: #161616;
    --border: #333333;
    --primary: #00ff41; 
    --secondary: #c9d1d9;
    --muted: #8b949e;
    --accent-red: #ff003c; 
    --accent-blue: #00f0ff; 
    --font-mono: 'JetBrains Mono', monospace;
    --gap: 16px;
    --radius: 12px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body { 
    background-color: var(--bg-core); 
    color: var(--secondary); 
    font-family: var(--font-mono); 
    line-height: 1.6; 
    overflow-x: hidden; 
    min-height: 100vh; 
    display: flex; 
    flex-direction: column; 
    transition: background-color 0.3s, color 0.3s; 
}

/* Scrollbar & Header */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg-core); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--primary); }

#hud-header {
    position: fixed;
    top: 0;
    width: 100%;
    height: 60px;
    background: rgba(10, 10, 10, 0.85);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 24px;
    z-index: 1000;
}

/* Header Brand Layout */
.brand { 
    display: flex; 
    align-items: center; 
    gap: 15px; 
    font-weight: 700;
    /* Ensure brand doesn't push controls off screen */
    flex-shrink: 1;
    overflow: hidden;
    white-space: nowrap;
    margin-right: 10px;
}

.server-status-group {
    display: flex;
    gap: 15px;
    font-size: 0.8rem;
    color: var(--muted);
    align-items: center;
}

.status-item {
    display: flex;
    align-items: center;
    gap: 5px;
}
.status-value {
    color: var(--primary);
    font-variant-numeric: tabular-nums;
}

.status-indicator { 
    width: 10px; 
    height: 10px; 
    background: var(--primary); 
    border-radius: 50%; 
    box-shadow: 0 0 10px var(--primary); 
    animation: pulse 2s infinite; 
    flex-shrink: 0;
}

.typing-logo {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Header Controls */
.hud-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    /* Important: prevent controls from shrinking or wrapping */
    flex-shrink: 0;
}

.hud-btn {
    background: transparent;
    border: none;
    color: var(--secondary);
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-family: var(--font-mono);
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s;
    font-weight: 500;
}
.hud-btn:hover, .hud-btn.active {
    color: var(--primary);
    background: rgba(0, 255, 65, 0.09);
}

/* System Monitor Widget (Bottom Right) */
.sys-monitor {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 200px;
    background: rgba(17, 17, 17, 0.9);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 15px;
    z-index: 900;
    font-size: 0.75rem;
    backdrop-filter: blur(5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    transform: translateY(150%); /* 초기 숨김 */
    transition: transform 0.3s ease;
    color: var(--secondary); /* Ensure text color uses variable */
}
.sys-monitor.visible {
    transform: translateY(0);
}
.sys-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 5px;
}
.sys-row span:first-child { color: var(--muted); }
.sys-bar-bg {
    width: 100%;
    height: 4px;
    background: #333;
    margin-top: 2px;
    border-radius: 2px;
    overflow: hidden;
}
.sys-bar-fill {
    height: 100%;
    background: var(--primary);
    width: 0%;
    transition: width 0.5s ease;
}
.sys-title {
    border-bottom: 1px solid var(--border);
    padding-bottom: 5px;
    margin-bottom: 10px;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
}

/* Card & Bento Grid Base */
.bento-grid { 
    margin-top: 80px; 
    padding: 24px; 
    max-width: 1200px; 
    margin-left: auto; 
    margin-right: auto; 
    display: grid; 
    gap: var(--gap); 
    grid-template-columns: 1fr; 
    /* Mobile Default Areas - [수정됨] Logs 제거 */
    grid-template-areas: 
        "profile" 
        "stats" 
        "projects" 
        "stack" 
        "writeups"
        "certs"
        "activity" 
        "awards" 
        "social"; 
}

.card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 24px; position: relative; overflow: hidden; transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s; z-index: 1; }
.card:hover { transform: translateY(-2px); border-color: var(--primary); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); }

/* Desktop Grid Layout */
@media (min-width: 768px) {
    .bento-grid {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        grid-template-rows: auto;
        
        /* [수정됨] Logs 영역 삭제 및 Writeups 확장 */
        grid-template-areas:
            "profile profile stack stack certs certs"
            "profile profile stack stack certs certs"
            "stats stats stats stats stats stats"
            "clubs clubs activities activities activities activities"
            "writeups writeups writeups writeups writeups writeups" 
            "projects projects projects projects projects projects"
            "awards awards awards awards awards awards"
            "social social social social social social";
    }

    .profile-card { grid-area: profile; }
    .stats-card   { grid-area: stats; }
    .stack-card   { grid-area: stack; }
    .certs-card   { grid-area: certs; }
    .activities-card { grid-area: activities; }
    .clubs-card      { grid-area: clubs; }

    .project-card { 
        grid-area: projects; 
        width: 100%;
        height: 100%; 
    }
    
    .writeups-card { grid-area: writeups; }

    .awards-card   { grid-area: awards; margin-top: 0; }
    .social-card   { grid-area: social; margin-top: 0; }
}

/* Mobile Responsive Adjustments */
@media (max-width: 768px) {
    /* Hide CPU/Uptime on mobile to save space */
    .hidden-on-mobile {
        display: none !important;
    }
    
    #hud-header {
        padding: 0 16px;
    }
    
    .hud-btn {
        padding: 8px 10px; /* Make buttons slightly more compact */
    }
    
    .typing-logo {
        font-size: 0.9rem; /* Slightly smaller logo text */
    }
}

/* Profile Card */
.profile-card { display: flex; flex-direction: column; justify-content: center; min-height: 280px; background: linear-gradient(145deg, var(--bg-card) 0%, #1a1a1a 100%); }
.glitch { font-size: 3.5rem; font-weight: 800; color: var(--secondary); position: relative; }
.glitch::before,.glitch::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-card); }
.glitch::before { left: 2px; text-shadow: -1px 0 var(--accent-red); clip-path: inset(44% 0 61% 0); animation: glitch-anim-1 2.5s infinite linear alternate-reverse; }
.glitch::after { left: -2px; text-shadow: -1px 0 var(--accent-blue); clip-path: inset(55% 0 10% 0); animation: glitch-anim-2 3s infinite linear alternate-reverse; }
.status-badges { display: flex; gap: 10px; margin-top: 15px; }
.badge { background: rgba(0, 255, 65, 0.1); color: var(--primary); padding: 4px 10px; border-radius: 4px; font-size: 0.8rem; border: 1px solid rgba(0, 255, 65, 0.2); }

/* GitHub Widget */
.github-widget-container {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    width: 100%;
    height: 100%;
    min-height: 150px;
    background: #0d1117;
    border-radius: 8px;
}
.github-widget-container img { max-width: 100%; height: auto; object-fit: contain; display: block; }
.github-widget-container img:after { content: " (Stats currently unavailable via API)"; font-size: 0.8rem; color: var(--muted); }

/* Lists & Projects */
.clean-list { list-style: none; padding: 0; }
.clean-list li { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }

.project-list { display: flex; flex-direction: column; gap: 20px; margin-top: 20px; }
.project-item { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 8px; border-left: 2px solid var(--border); transition: border-left-color 0.3s; }
.project-item:hover { border-left-color: var(--primary); }
.p-head { display: flex; justify-content: space-between; margin-bottom: 8px; }

/* Certs */
.certs-list li { margin-bottom: 12px; line-height: 1.5; text-align: left; width: 100%; align-items: flex-start; display: flex; flex-direction: column; }
.cert-org { color: var(--muted); font-size: 0.98em; margin-right: 4px; }
.cert-date { color: var(--muted); font-size: 0.97em; }

/* Activities (New Styles with Date) */
.activity-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}
.activity-row:last-child { border-bottom: none; }
.act-info { display: flex; gap: 10px; align-items: center; }
.act-meta { display: flex; align-items: center; gap: 15px; }
.act-date { font-size: 0.85rem; color: var(--muted); font-weight: 500; }
.dimmed { color: var(--muted); font-size: 0.9em; }

/* Awards Layout */
.awards-list { display: flex; flex-direction: column; gap: 24px; margin-top: 16px; }
.awards-card { min-height: auto; }

/* Contact */
.contact-row { display: flex; align-items: center; gap: 18px; margin-bottom: 0; }
.social-btn { color: var(--muted); transition: color 0.3s; font-size: 1.5rem; }
.social-btn:hover { color: var(--primary); }

/* Tech Stack (New Layout) */
.stack-card { display: flex; flex-direction: column; }
.stack-wrapper {
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    overflow-y: auto;
    padding-right: 5px;
}

.cat-title {
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.cat-title.proficient { color: var(--primary); }
.cat-title.experienced { color: var(--secondary); }

.badges-container { display: flex; flex-wrap: wrap; gap: 6px; }

.tech-badge {
    display: inline-block;
    padding: 4px 8px;
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    font-size: 0.8rem;
    color: var(--secondary);
    transition: all 0.2s;
    cursor: default;
}
.tech-badge:hover {
    background-color: rgba(0, 255, 65, 0.15);
    border-color: var(--primary);
    color: var(--primary);
    transform: translateY(-1px);
}

.stack-divider {
    height: 1px;
    background: repeating-linear-gradient(
        to right,
        rgba(255, 255, 255, 0.1),
        rgba(255, 255, 255, 0.1) 4px,
        transparent 4px,
        transparent 8px
    );
    margin: 4px 0;
}

/* Light Mode */
body.light-mode {
    --bg-core: #f6f8fa;
    --bg-card: #ffffff;
    --bg-card-hover: #f3f7fa;
    --border: #d0d7de;
    --secondary: #222b38;
    --primary: #1eae60;
    --muted: #7a8599;
    --accent-red: #ff4b6e;
    --accent-blue: #00b4ff;
}

body.light-mode .typing-logo { color: #1eae60 !important; }
body.light-mode .card { box-shadow: 0 4px 24px 0 rgba(30, 174, 96, 0.08); border: 1.5px solid var(--border); background: linear-gradient(135deg, #fafdff 60%, #e8f5ee 100%); }
body.light-mode .card:hover { border-color: var(--primary); background: linear-gradient(135deg, #f3f7fa 60%, #e0f3e8 100%); }
body.light-mode .profile-card { background: linear-gradient(120deg, #fafdff 60%, #e8f5ee 100%); }
body.light-mode .glitch { color: #1eae60; text-shadow: 0 2px 8px #e0f3e8; }
body.light-mode .glitch::before, body.light-mode .glitch::after { background: var(--bg-card); }
body.light-mode .badge { background: rgba(30, 174, 96, 0.12); color: #1eae60; border: 1px solid #b6e7d6; }
body.light-mode .project-item { background: rgba(30, 174, 96, 0.06); border-left: 2.5px solid #b6e7d6; }
body.light-mode .project-item:hover { border-left-color: #1eae60; background: rgba(30, 174, 96, 0.13); }
body.light-mode .github-widget-container { background: #e8f5ee; }
body.light-mode .hud-btn { background: #fafdff; color: #222; border: 1.5px solid #b6e7d6; }
body.light-mode .hud-btn:hover, body.light-mode .hud-btn.active { background: #e0f3e8; color: #1eae60; border-color: #1eae60; }
body.light-mode .cmd-dialog { background: #fafdff; color: #222b38; border: 1.5px solid #b6e7d6; }
body.light-mode .cmd-item.selected, body.light-mode .cmd-item:hover { background: #e0f3e8; color: #1eae60; }
body.light-mode .cmd-footer { background: #e8f5ee; color: #7a8599; }
body.light-mode .social-btn { color: #7a8599; }
body.light-mode .social-btn:hover { color: #1eae60; }
body.light-mode .profile-card, body.light-mode .profile-card p, body.light-mode .profile-card span { color: #222222 !important; }
body.light-mode .profile-card .badge, body.light-mode .profile-card .glitch { color: inherit; }

/* Light Mode System Monitor Fixes */
body.light-mode .sys-monitor {
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid #d0d7de;
    color: #222b38;
}

body.light-mode .sys-row span:first-child {
    color: #57606a;
}

body.light-mode .sys-bar-bg {
    background: #e0e0e0;
}

/* Light Mode Header Text Fixes */
body.light-mode #hud-header {
    background: rgba(255, 255, 255, 0.85);
    border-bottom: 1px solid #d0d7de;
}

body.light-mode .server-status-group, 
body.light-mode .server-status-group span {
    color: #57606a;
}

body.light-mode .server-status-group .status-value {
    color: #1eae60; 
}


/* Command Palette */
.cmd-dialog { position: fixed; top: 20%; left: 50%; transform: translateX(-50%); width: 90%; max-width: 600px; background: var(--bg-card); color: var(--secondary); border: 1px solid var(--border); border-radius: var(--radius); padding: 0; box-shadow: 0 20px 50px rgba(0,0,0,0.8); opacity: 0; pointer-events: none; transition: opacity 0.2s ease; z-index: 2000; }
.cmd-dialog[open] { opacity: 1; pointer-events: all; display: flex; flex-direction: column; }
.cmd-dialog::backdrop { background: rgba(0, 0, 0, 0.13); -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); }
.cmd-header { display: flex; align-items: center; padding: 16px; border-bottom: 1px solid var(--border); }
.cmd-header i { color: var(--muted); margin-right: 12px; }
#cmdInput { flex: 1; background: transparent; border: none; color: var(--secondary); font-family: var(--font-mono); font-size: 1.1rem; outline: none; }
.cmd-list { max-height: 300px; overflow-y: auto; list-style: none; padding: 8px; }
.cmd-item { padding: 12px 16px; border-radius: 6px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background 0.1s; }
.cmd-item.selected,.cmd-item:hover { background: rgba(255, 255, 255, 0.05); color: var(--primary); }
.cmd-footer { padding: 8px 16px; background: #0f0f0f; border-top: 1px solid var(--border); font-size: 0.75rem; color: var(--muted); display: flex; justify-content: flex-end; gap: 15px; }


@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(0, 255, 65, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(0, 255, 65, 0); } 100% { box-shadow: 0 0 0 0 rgba(0, 255, 65, 0); } }
@keyframes glitch-anim-1 { 0% { clip-path: inset(20% 0 80% 0); } 20% { clip-path: inset(60% 0 10% 0); } 100% { clip-path: inset(10% 0 50% 0); } }
@keyframes glitch-anim-2 { 0% { clip-path: inset(10% 0 60% 0); } 20% { clip-path: inset(80% 0 5% 0); } 100% { clip-path: inset(40% 0 20% 0); } }

.role-text::after { content: '_'; animation: blink 1s infinite; color: var(--primary); margin-left: 5px; }
.role-text { color: whitesmoke; font-weight: 10; margin-bottom: 10px; white-space: pre-wrap; }

@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }